[env]
framework = arduino
extra_scripts = pre:gen_compiledb.py

# Parent for the scales
[c3mini_scale]
platform = espressif32
board = esp32-c3-devkitm-1
lib_deps = 
    https://github.com/polmes/HX711-multi.git
# Needed to get serial communication with this board
build_flags = -I include
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DARDUINO_USB_MODE=1

# Parent for the display units
[big_yellow_display]
platform = espressif32
board = esp32dev
lib_deps = 
  bodmer/TFT_eSPI
extra_scripts = 
  pre:copy_espi_user_setup.py
  pre:gen_compiledb.py

[env:spin_controller]
extends = big_yellow_display
build_src_filter = 
 +<spin_controller/*.cpp>

[env:spin_agent]
extends = c3mini_scale
build_src_filter =
  +<spin_agent/*.cpp>
